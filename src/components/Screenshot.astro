---
interface Props {
  src: string;
  alt: string;
  class?: string;
  priority?: boolean;
}

const { src, alt, class: className = '', priority = false } = Astro.props;
const webpSrc = src.replace(/\.png$/, '.webp');
---

<div
  class:list={['screenshot-wrapper reveal mx-auto max-w-[1100px] px-6', className]}
  data-parallax
>
  <div class="relative">
    <picture>
      <source srcset={webpSrc} type="image/webp" />
      <img
        src={src}
        alt={alt}
        width="1100"
        height="700"
        class="w-full h-auto"
        loading={priority ? "eager" : "lazy"}
        decoding={priority ? "sync" : "async"}
        {...(priority ? { fetchpriority: "high" } : {})}
      />
    </picture>
  </div>
</div>
